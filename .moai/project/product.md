---
id: PRODUCT-001
version: 0.1.0
status: active
created: 2025-10-12
updated: 2025-10-12
authors: ["@project-manager"]
---

# liar-game Product Definition

## HISTORY

### v0.1.0 (2025-10-12)
- **INITIAL**: 기획 문서 및 실제 구현 기반 제품 정의 갱신
- **AUTHOR**: @project-manager
- **SCOPE**: 실제 구현된 OAuth 인증 시스템 기반 제품 정의
- **SOURCE**: 기획서(liar_game_proposal.md, liar_game_prd.md) + 완료된 SPEC(AUTH-002, UI-001)

---

## @DOC:MISSION-001 핵심 미션

### 게임 콘셉트
**웹 기반 소셜 추리 파티 게임 - 소셜 로그인으로 간편하게 시작**

점심시간 10분이면 충분한, 소셜 로그인으로 친구들과 즉시 즐기는 소셜 추리 파티 게임.
다운로드 없이 브라우저에서 바로 플레이하며, **진실과 거짓 사이의 긴장감**을 캐주얼하게 즐깁니다.

### 비전
Among Us 이후 침체된 소셜 디덕션 장르에 **접근성의 혁명**을 일으킵니다.
앱 다운로드라는 장벽을 없애고, 누구나 소셜 계정 하나로 모임을 시작할 수 있는 "파티 게임의 카카오톡"이 됩니다.

### 핵심 가치 제안

1. **소셜 로그인 기반 간편 접속** (✅ 구현 완료)
   - Google/GitHub/Discord OAuth 통합 (SPEC-AUTH-002)
   - 게스트 모드 지원 (Anonymous Auth)
   - 앱 다운로드 불필요, 계정 생성 간소화

2. **하이브리드 커뮤니케이션**
   - 텍스트 채팅 (기본)
   - 선택적 음성 채팅 (WebRTC)
   - 이모티콘 및 스티커 지원

3. **크로스 플랫폼 완벽 지원**
   - PC와 모바일 동시 플레이
   - 반응형 UI (320px~)
   - Next.js 15 SSR/CSR Hybrid

4. **낮은 학습 곡선**
   - 2분 튜토리얼 후 바로 재미
   - 인터랙티브 AI 연습 모드
   - 직관적인 UI/UX

5. **건전한 수익화**
   - P2W 없는 코스메틱 중심
   - 광고는 선택적 (리워드 비디오)
   - 배틀패스 시스템

### 게임 기본 정보

- **장르**: 소셜 디덕션 / 추리 / 파티 게임
- **플랫폼**: 웹 브라우저 (PC/모바일 반응형)
- **플레이 인원**: 4-10명 (최적 6-8명)
- **플레이 타임**: 1라운드 8-12분
- **주요 모드**: 클래식, 빠른 게임, 커스텀, 랭크

---

## @SPEC:USER-001 주요 사용자층

### 1차 사용자: 점심시간 게이머 (직장인 24-35세)
- **대상**: 직장인, 점심시간 간단한 게임 선호
- **핵심 니즈**:
  - 소셜 로그인으로 빠른 시작 (앱 설치 불필요)
  - 15분 이내 짧은 플레이 타임
  - 모바일/PC 크로스 플레이
- **핵심 시나리오**:
  1. 구글 계정으로 3초 만에 로그인
  2. 방 코드 공유 → 친구 초대
  3. 점심시간 12시~1시 사이 2-3판 플레이
- **목표**: 월 4-8회, 세션당 15-20분

### 2차 사용자: 스트리머 (20-30대)
- **대상**: 풀타임 스트리머, 시청자 참여 콘텐츠 제작
- **핵심 니즈**:
  - 시청자 초대 시 낮은 진입 장벽 (URL 공유)
  - 재미있는 순간 생성 (밈, 명대사)
  - 음성 채팅 지원
- **핵심 시나리오**:
  1. 방 생성 → URL 채팅창 공유
  2. 시청자 즉시 참여 (소셜 로그인)
  3. 음성 채팅으로 실시간 소통
- **목표**: 주 3-4회 방송, 2-3시간

### 3차 사용자: 학생 게이머 (15-22세)
- **대상**: 고등학생/대학생, PC방 플레이
- **핵심 니즈**:
  - 무료 플레이, 경쟁 요소
  - 랭킹 시스템, 전적 비교
  - 친구들과 깊이 있는 플레이
- **핵심 시나리오**:
  1. 구글 계정으로 로그인
  2. 랭크 모드 참여
  3. 친구 전적 비교, 티어 상승
- **목표**: 주 5-7회, 랭크 상위권

---

## @SPEC:PROBLEM-001 해결하는 핵심 문제

### 우선순위 높음

1. **앱 다운로드 장벽**
   - **문제**: 기존 게임(마피아42, Among Us)은 앱 설치 필수
   - **해결**: 웹 기반 + 소셜 로그인으로 3초 진입 (✅ AUTH-002 완료)
   - **검증**: OAuth 로그인 성공률 ≥95%

2. **음성 채팅 미지원**
   - **문제**: 웹마피아는 텍스트만, Among Us는 별도 Discord 필요
   - **해결**: WebRTC 기반 내장 음성 채팅
   - **검증**: P2P 음성 레이턴시 <100ms

3. **낮은 모바일 최적화**
   - **문제**: 웹마피아는 구식 UI, 모바일 조작 불편
   - **해결**: Next.js 반응형 UI, 터치 최적화 버튼 (44px+)
   - **검증**: 모바일 LCP <3초

### 우선순위 중간

- 초보자 진입장벽 높음 → 2분 튜토리얼 + AI 연습 모드
- 복잡한 룰 → 직관적 UI, 단계별 가이드
- 독성 커뮤니티 → 욕설 필터링, 신고 시스템

### 현재 실패 사례들

| 게임 | 다운로드 | 웹 지원 | 음성 | 초보 친화성 | 수익화 |
|------|----------|---------|------|------------|--------|
| **Among Us** | 850M+ | ❌ | ❌ | ★★★★★ | 낮음 |
| **마피아42** | 8M+ | ❌ | ❌ | ★★☆☆☆ | 중간 |
| **Goose Goose Duck** | 급성장 | ❌ | ✅ | ★★★☆☆ | 중간 |
| **웹마피아** | 불필요 | ✅ | ❌ | ★★☆☆☆ | 낮음 |
| **liar-game** | 불필요 | ✅ | ✅ (예정) | ★★★★★ (목표) | 하이브리드 |

---

## @DOC:STRATEGY-001 차별점 및 강점

### 경쟁 솔루션 대비 강점

1. **소셜 로그인 기반 즉시 접속** (✅ 구현 완료)
   - **강점**: Google/GitHub/Discord 계정으로 3초 로그인
   - **발휘 시나리오**:
     - 스트리머가 방 URL 공유 → 시청자 즉시 참여
     - 점심시간 동료 초대 → 앱 설치 대기 없음
   - **기술 기반**: Supabase Auth (SPEC-AUTH-002)

2. **하이브리드 커뮤니케이션** (일부 구현)
   - **강점**: 텍스트 + 음성 채팅 동시 지원
   - **발휘 시나리오**:
     - 모바일 사용자는 텍스트
     - PC 사용자는 음성 + 텍스트
   - **기술 기반**: Socket.IO + WebRTC P2P

3. **크로스 플랫폼 완벽 지원**
   - **강점**: PC와 모바일 동일한 경험
   - **발휘 시나리오**:
     - PC방에서 플레이 중 → 외출 시 모바일로 이어서
     - 반응형 UI (320px~ 모든 화면 대응)
   - **기술 기반**: Next.js 15 SSR/CSR Hybrid

4. **낮은 학습 곡선**
   - **강점**: 2분 튜토리얼 후 즉시 플레이 가능
   - **발휘 시나리오**: 신규 유저 튜토리얼 완료율 >90%
   - **기술 기반**: 인터랙티브 AI 튜토리얼

5. **건전한 수익화**
   - **강점**: P2W 없는 코스메틱 중심
   - **발휘 시나리오**:
     - 광고는 선택적 (리워드 비디오)
     - 배틀패스 시스템 ($9.99/월)
   - **목표**: ARPU $1.50, 전환율 5%

---

## @SPEC:SUCCESS-001 성공 지표

### 12개월 목표 (기획서 기준)

| 지표 | 3개월 | 12개월 | 24개월 |
|------|-------|--------|--------|
| **DAU** | 5,000-10,000 | 50,000 | 150,000 |
| **MAU** | 25,000-50,000 | 166,667 | 500,000 |
| **DAU/MAU** | 20% | 30% | 30% |
| **D7 리텐션** | 8% | 12% | 12%+ |
| **월 매출** | $10,000 | $75,000 | $300,000 |
| **ARPU** | $0.20 | $1.50 | $1.80 |
| **전환율** | 2% | 5% | 8% |

### 즉시 측정 가능한 KPI

1. **사용자 성장**
   - **측정**: DAU, MAU, DAU/MAU 비율
   - **베이스라인**: Google Analytics 4
   - **측정 주기**: 일간

2. **리텐션**
   - **측정**: D1, D7, D30 리텐션
   - **베이스라인**: D1 20%+, D7 8%+
   - **측정 주기**: 주간

3. **인증 성공률** (✅ 현재 측정 중)
   - **측정**: OAuth 로그인 성공률, 세션 유지율
   - **베이스라인**: OAuth 성공률 ≥95%
   - **측정 주기**: 실시간 (Prometheus)

4. **수익**
   - **측정**: 광고 수익 (eCPM), IAP 매출
   - **베이스라인**: ARPU $1.50 (12개월)
   - **측정 주기**: 월간

5. **참여도**
   - **측정**: 평균 세션 길이, 게임 완료율
   - **베이스라인**: 세션 8-12분, 완료율 90%+
   - **측정 주기**: 주간

### 측정 주기

- **일간**: DAU, 동접자(CCU), 신규/복귀 유저, 매출
- **주간**: 리텐션(D1, D7), 퍼널 분석, 인기 모드
- **월간**: MAU, ARPU, LTV, 랭킹 분포, 커뮤니티 활동

### 측정 도구

- Google Analytics 4
- Firebase Analytics
- Mixpanel (행동 분석)
- Amplitude (코호트 분석)
- Prometheus + Grafana (서버 메트릭)

---

## Legacy Context

### 기획서 원본 의도 vs 실제 구현

**기획서 원본 내용** (liar_game_proposal.md):
- "제로 프릭션 진입: URL만으로 3초 만에 게임 시작"
- "앱 다운로드 없이 즉시 플레이"
- "회원가입 불필요"

**실제 구현** (우선 반영):
- ✅ **소셜 로그인 필수**: OAuth 인증 기반 (Supabase Auth)
- ✅ **SPEC-AUTH-002 완료**: Google/GitHub/Discord OAuth 통합
- ✅ **SPEC-UI-001 작성**: 로그인 플로우 및 인증 가드
- ✅ **사용자 플로우**: 소셜 로그인 → 홈 → 방 선택 → 게임

**차이점 분석**:
1. **기획서**: URL만으로 즉시 플레이 (게스트 모드 중심)
2. **실제**: OAuth 소셜 로그인 우선, Anonymous Auth 보조
3. **이유**:
   - 사용자 프로필 관리 필요 (전적, 랭킹)
   - 소셜 로그인 전환율이 게스트 대비 3배 높음 (SPEC-AUTH-002 가정)
   - 장기 리텐션 확보 (게스트는 D7 리텐션 낮음)

**향후 고려사항**:
- TODO:SPEC-AUTH-GUEST-001: 게스트 모드 강화 (Anonymous Auth → Social 연동)
- TODO:SPEC-UI-QUICK-START: 원클릭 방 참여 (URL 파라미터 기반)

### 활용 기존 자산

1. **기획 문서** (docs/)
   - liar_game_proposal.md (950줄, 완전 기획서)
   - liar_game_prd.md (438줄, PRD)
   - 활용: 제품 방향성, KPI 목표, 마케팅 전략

2. **완료된 SPEC**
   - SPEC-AUTH-002 (v0.1.0, completed): Supabase OAuth 통합
   - SPEC-UI-001 (v0.0.1, draft): 로그인 플로우
   - SPEC-INFRA-001: 인프라 설정
   - SPEC-SETUP-001: 프로젝트 초기 설정

3. **기술 스택**
   - Monorepo (pnpm workspace + Turbo)
   - Frontend: Next.js 15, React 19, Supabase SSR
   - Backend: NestJS 11, Fastify, TypeORM
   - 공유 패키지: types, constants, ui, config

---

## TODO:SPEC-BACKLOG-001 다음 단계 SPEC 후보

### 우선순위 높음 (P0)

1. **SPEC-GAME-001**: 게임 로직 구현 (역할 배정, 토론, 투표)
   - 의존: AUTH-002, UI-001
   - 예상: 8-12시간
   - 핵심: Socket.IO 기반 실시간 게임 상태 동기화

2. **SPEC-ROOM-001**: 방 생성/관리 시스템
   - 의존: AUTH-002, UI-001
   - 예상: 6-8시간
   - 핵심: 6자리 코드, URL/QR 공유, 커스텀 설정

3. **SPEC-CHAT-001**: 텍스트 채팅 시스템
   - 의존: GAME-001
   - 예상: 4-6시간
   - 핵심: Socket.IO, 욕설 필터링, 이모티콘

### 우선순위 중간 (P1)

4. **SPEC-VOICE-001**: WebRTC 음성 채팅
   - 의존: ROOM-001
   - 예상: 12-16시간
   - 핵심: P2P 연결, STUN/TURN 서버

5. **SPEC-PROFILE-001**: 사용자 프로필 및 전적
   - 의존: AUTH-002
   - 예상: 6-8시간
   - 핵심: 레벨 시스템, 승률, 통계

6. **SPEC-RANK-001**: 랭킹 시스템
   - 의존: GAME-001, PROFILE-001
   - 예상: 8-10시간
   - 핵심: 글로벌/시즌 리더보드, 티어

### 우선순위 낮음 (P2)

7. **SPEC-TUTORIAL-001**: 인터랙티브 튜토리얼
   - 의존: GAME-001
   - 예상: 6-8시간

8. **SPEC-MONETIZE-001**: 광고 통합 (AdMob)
   - 의존: GAME-001
   - 예상: 4-6시간

9. **SPEC-ANALYTICS-001**: GA4 통합
   - 의존: 없음
   - 예상: 2-4시간

### 기획서 기반 추가 후보 (Long-term)

- **SPEC-BATTLEPASS-001**: 배틀패스 시스템
- **SPEC-FRIEND-001**: 친구 시스템
- **SPEC-TOURNAMENT-001**: 토너먼트 모드
- **SPEC-COSMETIC-001**: 코스메틱 아이템 시스템
- **SPEC-I18N-001**: 다국어 지원 (일본어, 중국어)

---

## EARS 요구사항 작성 가이드

### EARS (Easy Approach to Requirements Syntax)

SPEC 작성 시 다음 EARS 구문을 활용하여 체계적인 요구사항을 작성하세요:

#### EARS 구문 형식
1. **Ubiquitous Requirements**: 시스템은 [기능]을 제공해야 한다
2. **Event-driven Requirements**: WHEN [조건]이면, 시스템은 [동작]해야 한다
3. **State-driven Requirements**: WHILE [상태]일 때, 시스템은 [동작]해야 한다
4. **Optional Features**: WHERE [조건]이면, 시스템은 [동작]할 수 있다
5. **Constraints**: IF [조건]이면, 시스템은 [제약]해야 한다

#### 적용 예시 (AUTH-002 기반)
```markdown
### Ubiquitous Requirements (기본 기능)
- 시스템은 소셜 로그인 기능을 제공해야 한다

### Event-driven Requirements (이벤트 기반)
- WHEN 사용자가 Google 로그인 버튼을 클릭하면, 시스템은 OAuth 인증 페이지로 리다이렉트해야 한다

### State-driven Requirements (상태 기반)
- WHILE 사용자가 로그인된 상태일 때, 시스템은 모든 API 요청에 JWT를 첨부해야 한다

### Optional Features (선택적 기능)
- WHERE 게스트 모드이면, 시스템은 제한된 기능을 제공할 수 있다

### Constraints (제약사항)
- IF OAuth 콜백이 실패하면, 시스템은 로그인 페이지로 리다이렉트해야 한다
```

---

_이 문서는 `/alfred:1-spec` 실행 시 SPEC 생성의 기준이 됩니다._
